(dp1
S'output'
p2
S"<type 'exceptions.ValueError'> invalid literal for long() with base 10: 'trial'"
p3
sS'layer'
p4
S'/home/kira111/web2py/applications/RedditSim/controllers/default.py'
p5
sS'code'
p6
S'# -*- coding: utf-8 -*-\n# this file is released under public domain and you can use without limitations\n\n#########################################################################\n## This is a sample controller\n## - index is the default action of any application\n## - user is required for authentication and authorization\n## - download is for downloading files uploaded in the db (does streaming)\n## - call exposes all registered services (none by default)\n#########################################################################\n\n\ndef index():\n    """\n    example action using the internationalization operator T and flash\n    rendered by views/default/index.html or views/generic.html\n\n    if you need a simple wiki simple replace the two lines below with:\n    return auth.wiki()\n    """\n   # response.flash = T("Welcome to RedditSIM")\n    return dict(message=\'\')\n\n\ndef user():\n    """\n    exposes:\n    http://..../[app]/default/user/login\n    http://..../[app]/default/user/logout\n    http://..../[app]/default/user/register\n    http://..../[app]/default/user/profile\n    http://..../[app]/default/user/retrieve_password\n    http://..../[app]/default/user/change_password\n    http://..../[app]/default/user/manage_users (requires membership in \n    use @auth.requires_login()\n        @auth.requires_membership(\'group name\')\n        @auth.requires_permission(\'read\',\'table name\',record_id)\n    to decorate functions that need access control\n    """\n    return dict(form=auth())\n\n@cache.action()\ndef download():\n    """\n    allows downloading of uploaded files\n    http://..../[app]/default/download/[filename]\n    """\n    return response.download(request, db)\n\n\ndef call():\n    """\n    exposes services. for example:\n    http://..../[app]/default/call/jsonrpc\n    decorate with @services.jsonrpc the functions to expose\n    supports xml, json, xmlrpc, jsonrpc, amfrpc, rss, csv\n    """\n    return service()\n\n\n@auth.requires_signature()\ndef data():\n    """\n    http://..../[app]/default/data/tables\n    http://..../[app]/default/data/create/[table]\n    http://..../[app]/default/data/read/[table]/[id]\n    http://..../[app]/default/data/update/[table]/[id]\n    http://..../[app]/default/data/delete/[table]/[id]\n    http://..../[app]/default/data/select/[table]\n    http://..../[app]/default/data/search/[table]\n    but URLs must be signed, i.e. linked with\n      A(\'table\',_href=URL(\'data/tables\',user_signature=True))\n    or with the signed load operator\n      LOAD(\'default\',\'data.load\',args=\'tables\',ajax=True,user_signature=True)\n    """\n    return dict(form=crud())\ndef login():\n\treturn dict(form=auth.login())\n\ndef index():\n\tform=db().select(db.posts.ALL,orderby=~db.posts.votes)\n\treturn dict(form=form)\n@auth.requires_login()\ndef posts():\n\tform=SQLFORM(db.posts)\n\t\n\tif form.process().accepted:\n\t\ta=request.vars.category.split()\n\t\tif (len(a))>1:\n\t\t\tdelu=db(db.posts.id>0).select().last()\n\t\t\tprint delu\n\t\t\tdb(db.posts.id==delu.id).delete()\t\n\t\t\tresponse.flash = \'Category can only be one word!\'\n\t\telse:\n\t\t\tsome=db(db.posts.title==request.vars.title).select().last()\n\t\t\tsome.user_id=auth.user.id\n\t\t\tsome.update_record()\n\t\t\tsession.flash = \'POST SUBMITTED\'\n\t\t\tredirect(URL(\'index\'))\n\n\treturn dict(form=form)\n\ndef show_cat():\n\tform=db().select(db.posts.ALL)\n\treturn dict(form=form)\n\ndef post_bycat():\n\t#print request.args(0,cast=str)\n\tform=db(db.posts.category==request.args(0,cast=str)).select(orderby=~db.posts.votes)\n\treturn dict(form=form)\ndef voting():\n\n\tflag=False\n\tans=request.args(1,cast=int)\n\t#print request.args(0),request.args(1)\n\tpost=db(db.posts.id==request.args(0,cast=str)).select().first()\n\tuserm=db((db.liked.user_id==auth.user.id) &(db.liked.post_id==post.id)).select()\n\tif(len(userm)==0):\n\t\tflag=True\n\tif(len(userm)==1):\n\t\tif ans==1 and userm[0].response==False:\n\t\t\tflag=False\n\t\t\tpost.votes += 8\n\t\t\tpost.update_record()\n\t\t\tuserm[0].response=True\n\t\t\tuserm[0].update_record()\n\t\t\tsession.flash = \'Response Changed\'\n\t\t\tredirect(URL(\'post_bycat\',args=post.category))\n\t\n\t\tif ans==-1 and userm[0].response==True:\n\t\t\tflag=False\n\t\t\tpost.votes -= 8\n\t\t\tpost.update_record()\n\t\t\tuserm[0].response=False\n\t\t\tuserm[0].update_record()\n\t\t\tsession.flash = \'Response Changed\'\n\t\t\tredirect(URL(\'post_bycat\',args=post.category))\n\tif flag:\n\t\tif(ans==1):\n\t\t\tpost.votes += 5\n\t\t\tdb.liked.insert(user_id=auth.user.id,post_id=post.id,response=True)\n\t\telif(ans==-1):\n\t\t\tpost.votes -= 3\n\t\t\tdb.liked.insert(user_id=auth.user.id,post_id=post.id,response=False)\n\t\t\n\t\tsession.flash = \'Response Recorded\'\n\t\tpost.update_record()\n\t\tredirect(URL(\'post_bycat\',args=post.category))\n\telse:\n\t\tsession.flash = \'Already responded to post\'\n\t\tredirect(URL(\'post_bycat\',args=post.category))\n\n\treturn dict()\ndef myposts():\n\tform=db(db.posts.user_id==auth.user.id).select()\n\n\treturn dict(form=form)\n\ndef delp():\n\tdb(db.posts.id==request.args(0,cast=str)).delete()\n\tsession.flash = \'Post Deleted\'\n\tredirect(URL(\'myposts\'))\n\t\n\treturn dict()\n\ndef editp():\n\tdb.posts.url.writable=False\n\tpost=db(db.posts.id==request.args(0,cast=str)).select().first()\n\t\n\tform = SQLFORM.factory(\n\t\t\t\tField(\'title\',type=\'string\',length=128,default=post.title),\n\t\t\t\tField(\'url\',writable=False,default=post.url),\n\t\t\t\tField(\'category\',length=128,default=post.category)\n\t)\n\tif form.process().accepted:\n\t\ta=request.vars.category.split()\n\t\tif (len(a))>1:\n\t\t\tsession.flash = \'Category can only be one word!\'\n\t\telse:\n\t\t\tdb(db.posts.id==post.id).update(title=form.vars.title,category=form.vars.category)\n\t\t\tsession.flash = \'Changes Complete\'\n\n\t\tredirect(URL(\'editp\',args=post.id))\n\n\treturn dict(form=form,some=post)\nimport datetime\ndef post_comet():\n\tsome=db(db.posts.id==request.args(0,cast=str)).select().first()\n\tform = SQLFORM.factory(\n\t\t\t\tField(\'post_comment\',type=\'text\',default=\'\'))\n\tif form.process().accepted:\n\t\t\tdb.comments.insert(user_id=auth.user.id,post_id=some.id,comet=form.vars.post_comment,time_posted=datetime.datetime.now().strftime("%Y-%m-%d %H:%M"))\n\t\t\tsession.flash = \'Comment Posted\'\n\t\t\tredirect(URL(post_comet,args=some.id))\n\treturn dict(some=some,form=form)\ndef admin_stuff():\n\treturn dict()\ndef edit_all():\n\treturn dict()\n\nresponse._vars=response._caller(index)\n'
p7
sS'snapshot'
p8
(dp9
S'exception'
p10
(dp11
S'__hash__'
p12
S"<method-wrapper '__hash__' of exceptions.ValueError object>"
p13
sS'__setattr__'
p14
S"<method-wrapper '__setattr__' of exceptions.ValueError object>"
p15
sS'__reduce_ex__'
p16
S'<built-in method __reduce_ex__ of exceptions.ValueError object>'
p17
sS'__getslice__'
p18
S"<method-wrapper '__getslice__' of exceptions.ValueError object>"
p19
sS'__getitem__'
p20
S"<method-wrapper '__getitem__' of exceptions.ValueError object>"
p21
sS'__setstate__'
p22
S'<built-in method __setstate__ of exceptions.ValueError object>'
p23
sS'__reduce__'
p24
S'<built-in method __reduce__ of exceptions.ValueError object>'
p25
sS'__str__'
p26
S"<method-wrapper '__str__' of exceptions.ValueError object>"
p27
sS'__format__'
p28
S'<built-in method __format__ of exceptions.ValueError object>'
p29
sS'__getattribute__'
p30
S"<method-wrapper '__getattribute__' of exceptions.ValueError object>"
p31
sS'__class__'
p32
S"<type 'exceptions.ValueError'>"
p33
sS'__unicode__'
p34
S'<built-in method __unicode__ of exceptions.ValueError object>'
p35
sS'__delattr__'
p36
S"<method-wrapper '__delattr__' of exceptions.ValueError object>"
p37
sS'__subclasshook__'
p38
S'<built-in method __subclasshook__ of type object>'
p39
sS'__repr__'
p40
S"<method-wrapper '__repr__' of exceptions.ValueError object>"
p41
sS'args'
p42
S'("invalid literal for long() with base 10: \'trial\'",)'
p43
sS'__dict__'
p44
S'{}'
p45
sS'__sizeof__'
p46
S'<built-in method __sizeof__ of exceptions.ValueError object>'
p47
sS'__doc__'
p48
S"'Inappropriate argument value (of correct type).'"
p49
sS'__init__'
p50
S"<method-wrapper '__init__' of exceptions.ValueError object>"
p51
sS'__new__'
p52
S'<built-in method __new__ of type object>'
p53
ssS'evalue'
p54
S"invalid literal for long() with base 10: 'trial'"
p55
sS'request'
p56
cgluon.html
XML_unpickle
p57
(S's\x8fZ\x00\x00<div><table><tr><td style="font-weight:bold;vertical-align:top;">ajax</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">application</td><td style="vertical-align:top;">:</td><td><div>RedditSim</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">args</td><td style="vertical-align:top;">:</td><td><div><table></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">cid</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">client</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">controller</td><td style="vertical-align:top;">:</td><td><div>default</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">cookies</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">session_id_admin</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1-36960da2-dfea-49fd-8d3b-0431adafb839<table><tr><td style="font-weight:bold;vertical-align:top;">comment</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">domain</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">expires</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">httponly</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">max-age</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">path</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">secure</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">version</td><td style="vertical-align:top;">:</td><td><div></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_id_redditsim</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1-7cf72132-0b9f-434d-a779-ba4ab45dcc44<table><tr><td style="font-weight:bold;vertical-align:top;">comment</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">domain</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">expires</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">httponly</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">max-age</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">path</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">secure</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">version</td><td style="vertical-align:top;">:</td><td><div></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_id_welcome</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1-3a7eba45-c130-4e77-8bc4-187b1d33a3c4<table><tr><td style="font-weight:bold;vertical-align:top;">comment</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">domain</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">expires</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">httponly</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">max-age</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">path</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">secure</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">version</td><td style="vertical-align:top;">:</td><td><div></div></td></tr></table></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">env</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">HTTP_ACCEPT</td><td style="vertical-align:top;">:</td><td><div>text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_ACCEPT_ENCODING</td><td style="vertical-align:top;">:</td><td><div>gzip, deflate</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_ACCEPT_LANGUAGE</td><td style="vertical-align:top;">:</td><td><div>en-us,en;q=0.5</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_CONNECTION</td><td style="vertical-align:top;">:</td><td><div>keep-alive</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_COOKIE</td><td style="vertical-align:top;">:</td><td><div>session_id_welcome=127.0.0.1-3a7eba45-c130-4e77-8bc4-187b1d33a3c4; session_id_admin=127.0.0.1-36960da2-dfea-49fd-8d3b-0431adafb839; session_id_redditsim=127.0.0.1-7cf72132-0b9f-434d-a779-ba4ab45dcc44</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_DNT</td><td style="vertical-align:top;">:</td><td><div>1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_HOST</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1:8000</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_REFERER</td><td style="vertical-align:top;">:</td><td><div>http://127.0.0.1:8000/RedditSim/default/admin_stuff</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_USER_AGENT</td><td style="vertical-align:top;">:</td><td><div>Mozilla/5.0 (X11; Ubuntu; Linux i686; rv:11.0) Gecko/20100101 Firefox/11.0</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">PATH_INFO</td><td style="vertical-align:top;">:</td><td><div>/RedditSim/default/index</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">QUERY_STRING</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">REMOTE_ADDR</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">REMOTE_PORT</td><td style="vertical-align:top;">:</td><td><div>49211</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">REQUEST_METHOD</td><td style="vertical-align:top;">:</td><td><div>GET</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">SCRIPT_NAME</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">SERVER_NAME</td><td style="vertical-align:top;">:</td><td><div>kira</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">SERVER_PORT</td><td style="vertical-align:top;">:</td><td><div>8000</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">SERVER_PROTOCOL</td><td style="vertical-align:top;">:</td><td><div>HTTP/1.1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">SERVER_SOFTWARE</td><td style="vertical-align:top;">:</td><td><div>Rocket 1.2.6</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">app_folders</td><td style="vertical-align:top;">:</td><td><div>set([&#x27;/home/kira111/web2py/applications/admin/&#x27;, &#x27;/home/kira111/web2py/applications/welcome/&#x27;, &#x27;/home/kira111/web2py/applications/RedditSim/&#x27;])</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">applications_parent</td><td style="vertical-align:top;">:</td><td><div>/home/kira111/web2py</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">cmd_args</td><td style="vertical-align:top;">:</td><td><div><table></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">cmd_options</td><td style="vertical-align:top;">:</td><td><div>&lt;Values at 0x92f31ac: {&#x27;verbose&#x27;: False, &#x27;ip&#x27;: &#x27;127.0.0.1&#x27;, &#x27;debuglevel&#x27;: 30, &#x27;with_scheduler&#x27;: False, &#x27;ips&#x27;: [&#x27;127.0.1.1&#x27;], &#x27;shutdown_timeout&#x27;: 5, &#x27;taskbar&#x27;: False, &#x27;with_coverage&#x27;: False, &#x27;port&#x27;: 8000, &#x27;maxthreads&#x27;: None, &#x27;softcron&#x27;: False, &#x27;server_name&#x27;: &#x27;kira&#x27;, &#x27;bpython&#x27;: False, &#x27;nogui&#x27;: True, &#x27;pid_filename&#x27;: &#x27;httpserver.pid&#x27;, &#x27;extcron&#x27;: False, &#x27;runcron&#x27;: False, &#x27;run_system_tests&#x27;: False, &#x27;test&#x27;: None, &#x27;folder&#x27;: &#x27;/home/kira111/web2py&#x27;, &#x27;config&#x27;: &#x27;&#x27;, &#x27;import_models&#x27;: False, &#x27;winservice&#x27;: &#x27;&#x27;, &#x27;shell&#x27;: None, &#x27;run&#x27;: &#x27;&#x27;, &#x27;log_filename&#x27;: &#x27;httpserver.log&#x27;, &#x27;profiler_dir&#x27;: None, &#x27;args&#x27;: [&#x27;&#x27;], &#x27;socket_timeout&#x27;: 5, &#x27;ssl_ca_certificate&#x27;: None, &#x27;scheduler&#x27;: None, &#x27;interfaces&#x27;: None, &#x27;ssl_private_key&#x27;: &#x27;&#x27;, &#x27;scheduler_groups&#x27;: None, &#x27;password&#x27;: &#x27;asd&#x27;, &#x27;request_queue_size&#x27;: 5, &#x27;ssl_certificate&#x27;: &#x27;&#x27;, &#x27;cronjob&#x27;: False, &#x27;numthreads&#x27;: None, &#x27;quiet&#x27;: False, &#x27;minthreads&#x27;: None, &#x27;timeout&#x27;: 10, &#x27;plain&#x27;: False, &#x27;nobanner&#x27;: False}&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">db_sessions</td><td style="vertical-align:top;">:</td><td><div>set([])</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">debugging</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">gluon_parent</td><td style="vertical-align:top;">:</td><td><div>/home/kira111/web2py</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_accept</td><td style="vertical-align:top;">:</td><td><div>text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_accept_encoding</td><td style="vertical-align:top;">:</td><td><div>gzip, deflate</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_accept_language</td><td style="vertical-align:top;">:</td><td><div>en-us,en;q=0.5</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_connection</td><td style="vertical-align:top;">:</td><td><div>keep-alive</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_cookie</td><td style="vertical-align:top;">:</td><td><div>session_id_welcome=127.0.0.1-3a7eba45-c130-4e77-8bc4-187b1d33a3c4; session_id_admin=127.0.0.1-36960da2-dfea-49fd-8d3b-0431adafb839; session_id_redditsim=127.0.0.1-7cf72132-0b9f-434d-a779-ba4ab45dcc44</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_dnt</td><td style="vertical-align:top;">:</td><td><div>1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_host</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1:8000</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_referer</td><td style="vertical-align:top;">:</td><td><div>http://127.0.0.1:8000/RedditSim/default/admin_stuff</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_user_agent</td><td style="vertical-align:top;">:</td><td><div>Mozilla/5.0 (X11; Ubuntu; Linux i686; rv:11.0) Gecko/20100101 Firefox/11.0</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_jython</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_pypy</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_source</td><td style="vertical-align:top;">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">local_hosts</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>127.0.1.1</div></td></tr><tr><td><div>::1</div></td></tr><tr><td><div>kira</div></td></tr><tr><td><div>::ffff:127.0.0.1</div></td></tr><tr><td><div>127.0.0.1</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">path_info</td><td style="vertical-align:top;">:</td><td><div>/RedditSim/default/index</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">query_string</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">remote_addr</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">remote_port</td><td style="vertical-align:top;">:</td><td><div>49211</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">request_method</td><td style="vertical-align:top;">:</td><td><div>GET</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">request_uri</td><td style="vertical-align:top;">:</td><td><div>/RedditSim/default/index</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">script_name</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">server_name</td><td style="vertical-align:top;">:</td><td><div>kira</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">server_port</td><td style="vertical-align:top;">:</td><td><div>8000</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">server_protocol</td><td style="vertical-align:top;">:</td><td><div>HTTP/1.1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">server_software</td><td style="vertical-align:top;">:</td><td><div>Rocket 1.2.6</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">web2py_path</td><td style="vertical-align:top;">:</td><td><div>/home/kira111/web2py</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">web2py_version</td><td style="vertical-align:top;">:</td><td><div>2.6.0-development+timestamp.2013.08.19.08.43.59</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.errors</td><td style="vertical-align:top;">:</td><td><div>&lt;open file &#x27;&lt;stderr&gt;&#x27;, mode &#x27;w&#x27; at 0xb733b0d0&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.file_wrapper</td><td style="vertical-align:top;">:</td><td><div>&lt;class wsgiref.util.FileWrapper at 0x92b747c&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.input</td><td style="vertical-align:top;">:</td><td><div>&lt;socket._fileobject object at 0xae41346c&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.multiprocess</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.multithread</td><td style="vertical-align:top;">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.run_once</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.url_scheme</td><td style="vertical-align:top;">:</td><td><div>http</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.version</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>1</div></td></tr><tr><td><div>0</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_errors</td><td style="vertical-align:top;">:</td><td><div>&lt;open file &#x27;&lt;stderr&gt;&#x27;, mode &#x27;w&#x27; at 0xb733b0d0&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_file_wrapper</td><td style="vertical-align:top;">:</td><td><div>&lt;class wsgiref.util.FileWrapper at 0x92b747c&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_input</td><td style="vertical-align:top;">:</td><td><div>&lt;socket._fileobject object at 0xae41346c&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_multiprocess</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_multithread</td><td style="vertical-align:top;">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_run_once</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_url_scheme</td><td style="vertical-align:top;">:</td><td><div>http</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_version</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>1</div></td></tr><tr><td><div>0</div></td></tr></table></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">extension</td><td style="vertical-align:top;">:</td><td><div>html</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">folder</td><td style="vertical-align:top;">:</td><td><div>/home/kira111/web2py/applications/RedditSim/</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">function</td><td style="vertical-align:top;">:</td><td><div>index</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">global_settings</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">app_folders</td><td style="vertical-align:top;">:</td><td><div>set([&#x27;/home/kira111/web2py/applications/admin/&#x27;, &#x27;/home/kira111/web2py/applications/welcome/&#x27;, &#x27;/home/kira111/web2py/applications/RedditSim/&#x27;])</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">applications_parent</td><td style="vertical-align:top;">:</td><td><div>/home/kira111/web2py</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">cmd_args</td><td style="vertical-align:top;">:</td><td><div><table></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">cmd_options</td><td style="vertical-align:top;">:</td><td><div>&lt;Values at 0x92f31ac: {&#x27;verbose&#x27;: False, &#x27;ip&#x27;: &#x27;127.0.0.1&#x27;, &#x27;debuglevel&#x27;: 30, &#x27;with_scheduler&#x27;: False, &#x27;ips&#x27;: [&#x27;127.0.1.1&#x27;], &#x27;shutdown_timeout&#x27;: 5, &#x27;taskbar&#x27;: False, &#x27;with_coverage&#x27;: False, &#x27;port&#x27;: 8000, &#x27;maxthreads&#x27;: None, &#x27;softcron&#x27;: False, &#x27;server_name&#x27;: &#x27;kira&#x27;, &#x27;bpython&#x27;: False, &#x27;nogui&#x27;: True, &#x27;pid_filename&#x27;: &#x27;httpserver.pid&#x27;, &#x27;extcron&#x27;: False, &#x27;runcron&#x27;: False, &#x27;run_system_tests&#x27;: False, &#x27;test&#x27;: None, &#x27;folder&#x27;: &#x27;/home/kira111/web2py&#x27;, &#x27;config&#x27;: &#x27;&#x27;, &#x27;import_models&#x27;: False, &#x27;winservice&#x27;: &#x27;&#x27;, &#x27;shell&#x27;: None, &#x27;run&#x27;: &#x27;&#x27;, &#x27;log_filename&#x27;: &#x27;httpserver.log&#x27;, &#x27;profiler_dir&#x27;: None, &#x27;args&#x27;: [&#x27;&#x27;], &#x27;socket_timeout&#x27;: 5, &#x27;ssl_ca_certificate&#x27;: None, &#x27;scheduler&#x27;: None, &#x27;interfaces&#x27;: None, &#x27;ssl_private_key&#x27;: &#x27;&#x27;, &#x27;scheduler_groups&#x27;: None, &#x27;password&#x27;: &#x27;asd&#x27;, &#x27;request_queue_size&#x27;: 5, &#x27;ssl_certificate&#x27;: &#x27;&#x27;, &#x27;cronjob&#x27;: False, &#x27;numthreads&#x27;: None, &#x27;quiet&#x27;: False, &#x27;minthreads&#x27;: None, &#x27;timeout&#x27;: 10, &#x27;plain&#x27;: False, &#x27;nobanner&#x27;: False}&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">db_sessions</td><td style="vertical-align:top;">:</td><td><div>set([])</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">debugging</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">gluon_parent</td><td style="vertical-align:top;">:</td><td><div>/home/kira111/web2py</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_jython</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_pypy</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_source</td><td style="vertical-align:top;">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">local_hosts</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>127.0.1.1</div></td></tr><tr><td><div>::1</div></td></tr><tr><td><div>kira</div></td></tr><tr><td><div>::ffff:127.0.0.1</div></td></tr><tr><td><div>127.0.0.1</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">web2py_version</td><td style="vertical-align:top;">:</td><td><div>2.6.0-development+timestamp.2013.08.19.08.43.59</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_https</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_local</td><td style="vertical-align:top;">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_restful</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">now</td><td style="vertical-align:top;">:</td><td><div>datetime.datetime(2013, 8, 30, 19, 4, 55, 700195)</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">raw_args</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">raw_extension</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">url</td><td style="vertical-align:top;">:</td><td><div>/RedditSim/default/index</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">utcnow</td><td style="vertical-align:top;">:</td><td><div>datetime.datetime(2013, 8, 30, 13, 34, 55, 700218)</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">uuid</td><td style="vertical-align:top;">:</td><td><div>RedditSim/127.0.0.1.2013-08-30.19-04-55.fd368f24-175c-43eb-a711-ff59ef282123</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi</td><td style="vertical-align:top;">:</td><td><div>&lt;gluon.main.LazyWSGI object at 0xae42ffcc&gt;</div></td></tr></table></div>'
tRp58
sS'frames'
p59
(lp60
(dp61
S'file'
p62
S'/home/kira111/web2py/gluon/restricted.py'
p63
sS'dump'
p64
(dp65
S'environment'
p66
S"{'A': <class 'gluon.html.A'>, 'ANY_OF': <class 'gluon.validators.ANY_OF'>, 'Auth': <class 'gluon.tools.Auth'>, 'B': <class 'gluon.html.B'>, 'BEAUTIFY': <class 'gluon.html.BEAUTIFY'>, 'BODY': <class 'gluon.html.BODY'>, 'BR': <class 'gluon.html.BR'>, 'BUTTON': <class 'gluon.html.BUTTON'>, 'CAT': <class 'gluon.html.CAT'>, 'CENTER': <class 'gluon.html.CENTER'>, ...}"
p67
sS'ccode'
p68
S'<code object <module> at 0xae41fa40, file "/home...tions/RedditSim/controllers/default.py", line 13>'
p69
ssS'lnum'
p70
I217
sS'lines'
p71
(dp72
I212
S'    try:'
p73
sI213
S'        if isinstance(code, types.CodeType):'
p74
sI214
S'            ccode = code'
p75
sI215
S'        else:'
p76
sI216
S'            ccode = compile2(code, layer)'
p77
sI217
S'        exec ccode in environment'
p78
sI218
S'    except HTTP:'
p79
sI219
S'        raise'
p80
sI220
S'    except RestrictedError:'
p81
sI221
S'        # do not encapsulate (obfuscate) the original RestrictedError'
p82
ssS'call'
p83
S"(code='# -*- coding: utf-8 -*-\\n# this file is released ...n dict()\\n\\nresponse._vars=response._caller(index)\\n', environment={'A': <class 'gluon.html.A'>, 'ANY_OF': <class 'gluon.validators.ANY_OF'>, 'Auth': <class 'gluon.tools.Auth'>, 'B': <class 'gluon.html.B'>, 'BEAUTIFY': <class 'gluon.html.BEAUTIFY'>, 'BODY': <class 'gluon.html.BODY'>, 'BR': <class 'gluon.html.BR'>, 'BUTTON': <class 'gluon.html.BUTTON'>, 'CAT': <class 'gluon.html.CAT'>, 'CENTER': <class 'gluon.html.CENTER'>, ...}, layer='/home/kira111/web2py/applications/RedditSim/controllers/default.py')"
p84
sS'func'
p85
S'restricted'
p86
sa(dp87
g62
S'/home/kira111/web2py/applications/RedditSim/controllers/default.py'
p88
sg64
(dp89
sg70
I201
sg71
(dp90
I192
S'\t\t\tdb.comments.insert(user_id=auth.user.id,post_id=some.id,comet=form.vars.post_comment,time_posted=datetime.datetime.now().strftime("%Y-%m-%d %H:%M"))'
p91
sI193
S"\t\t\tsession.flash = 'Comment Posted'"
p92
sI194
S'\t\t\tredirect(URL(post_comet,args=some.id))'
p93
sI195
S'\treturn dict(some=some,form=form)'
p94
sI196
S'def admin_stuff():'
p95
sI197
S'\treturn dict()'
p96
sI198
S'def edit_all():'
p97
sI199
S'\treturn dict()'
p98
sI190
S"\t\t\t\tField('post_comment',type='text',default=''))"
p99
sI191
S'\tif form.process().accepted:'
p100
ssg83
S'()'
p101
sg85
S'<module>'
p102
sa(dp103
g62
S'/home/kira111/web2py/gluon/globals.py'
p104
sg64
(dp105
S'self'
p106
S'undefined'
p107
sS'f'
S'<function index>'
p108
ssg70
I359
sg71
(dp109
I354
S'        self.menu = []             # used by the default view layout'
p110
sI355
S'        self.files = []            # used by web2py_ajax.html'
p111
sI356
S'        self.generic_patterns = []  # patterns to allow generic views'
p112
sI357
S"        self.delimiters = ('{{', '}}')"
p113
sI358
S'        self._vars = None'
p114
sI359
S'        self._caller = lambda f: f()'
p115
sI360
S'        self._view_environment = None'
p116
sI361
S'        self._custom_commit = None'
p117
sI362
S'        self._custom_rollback = None'
p118
sI363
S''
ssg83
S'(f=<function index>)'
p119
sg85
S'<lambda>'
p120
sa(dp121
g62
S'/home/kira111/web2py/applications/RedditSim/controllers/default.py'
p122
sg64
(dp123
S'orderby'
p124
g107
sS'db.posts.votes'
p125
S'<gluon.dal.Field object>'
p126
sS'form'
p127
g107
sS').select'
p128
g107
sS'db.posts'
p129
S'<Table posts (id,title,url,category,votes,time_posted,user_id)>'
p130
sS'global db'
p131
S'<DAL uri="sqlite://storage.sqlite">'
p132
sS'db.posts.ALL'
p133
S'<gluon.dal.SQLALL object>'
p134
ssg70
I81
sg71
(dp135
I76
S'    return dict(form=crud())'
p136
sI77
S'def login():'
p137
sI78
S'\treturn dict(form=auth.login())'
p138
sI79
S''
sI80
S'def index():'
p139
sI81
S'\tform=db().select(db.posts.ALL,orderby=~db.posts.votes)'
p140
sI82
S'\treturn dict(form=form)'
p141
sI83
S'@auth.requires_login()'
p142
sI84
S'def posts():'
p143
sI85
S'\tform=SQLFORM(db.posts)'
p144
ssg83
S'()'
p145
sg85
S'index'
p146
sa(dp147
g62
S'/home/kira111/web2py/gluon/dal.py'
p148
sg64
(dp149
S'self.query'
p150
S'None'
p151
sS'adapter.select'
p152
S'<bound method SQLiteAdapter.select of <gluon.dal.SQLiteAdapter object>>'
p153
sS'fields'
p154
S'[<gluon.dal.Field object>, <gluon.dal.Field object>, <gluon.dal.Field object>, <gluon.dal.Field object>, <gluon.dal.Field object>, <gluon.dal.Field object>, <gluon.dal.Field object>]'
p155
sS'adapter'
p156
S'<gluon.dal.SQLiteAdapter object>'
p157
sS'attributes'
p158
S"{'orderby': <gluon.dal.Expression object>}"
p159
sS'self'
p160
S'<Set None>'
p161
ssg70
I10059
sg71
(dp162
I10054
S"                                    attributes.get('join',None),"
p163
sI10055
S"                                    attributes.get('left',None),"
p164
sI10056
S"                                    attributes.get('orderby',None),"
p165
sI10057
S"                                    attributes.get('groupby',None))"
p166
sI10058
S'        fields = adapter.expand_all(fields, tablenames)'
p167
sI10059
S'        return adapter.select(self.query,fields,attributes)'
p168
sI10060
S''
sI10061
S'    def nested_select(self,*fields,**attributes):'
p169
sI10062
S'        return Expression(self.db,self._select(*fields,**attributes))'
p170
sI10063
S''
ssg83
S"(self=<Set None>, *fields=[<gluon.dal.Field object>, <gluon.dal.Field object>, <gluon.dal.Field object>, <gluon.dal.Field object>, <gluon.dal.Field object>, <gluon.dal.Field object>, <gluon.dal.Field object>], **attributes={'orderby': <gluon.dal.Expression object>})"
p171
sg85
S'select'
p172
sa(dp173
g62
S'/home/kira111/web2py/gluon/dal.py'
p174
sg64
(dp175
S'fields'
p176
S'[<gluon.dal.Field object>, <gluon.dal.Field object>, <gluon.dal.Field object>, <gluon.dal.Field object>, <gluon.dal.Field object>, <gluon.dal.Field object>, <gluon.dal.Field object>]'
p177
sS'self'
p178
S'<gluon.dal.SQLiteAdapter object>'
p179
sS').select'
p180
S'<bound method SQLiteAdapter.select of <gluon.dal.SQLiteAdapter object>>'
p181
sS'attributes'
p182
S"{'orderby': <gluon.dal.Expression object>}"
p183
sS'global SQLiteAdapter'
p184
S"<class 'gluon.dal.SQLiteAdapter'>"
p185
sS'query'
p186
S'None'
p187
sS'builtinsuper'
p188
S"<type 'super'>"
p189
ssg70
I2285
sg71
(dp190
I2280
S'        Note that the entire database, rather than one record, is locked'
p191
sI2281
S'        (it will be locked eventually anyway by the following UPDATE).'
p192
sI2282
S'        """'
p193
sI2283
S"        if attributes.get('for_update', False) and not 'cache' in attributes:"
p194
sI2284
S"            self.execute('BEGIN IMMEDIATE TRANSACTION;')"
p195
sI2285
S'        return super(SQLiteAdapter, self).select(query, fields, attributes)'
p196
sI2286
S''
sI2287
S'class SpatiaLiteAdapter(SQLiteAdapter):'
p197
sI2288
S"    drivers = ('sqlite3','sqlite2')"
p198
sI2289
S''
ssg83
S"(self=<gluon.dal.SQLiteAdapter object>, query=None, fields=[<gluon.dal.Field object>, <gluon.dal.Field object>, <gluon.dal.Field object>, <gluon.dal.Field object>, <gluon.dal.Field object>, <gluon.dal.Field object>, <gluon.dal.Field object>], attributes={'orderby': <gluon.dal.Expression object>})"
p199
sg85
g172
sa(dp200
g62
S'/home/kira111/web2py/gluon/dal.py'
p201
sg64
(dp202
S'fields'
p203
S'[<gluon.dal.Field object>, <gluon.dal.Field object>, <gluon.dal.Field object>, <gluon.dal.Field object>, <gluon.dal.Field object>, <gluon.dal.Field object>, <gluon.dal.Field object>]'
p204
sS'self'
p205
S'<gluon.dal.SQLiteAdapter object>'
p206
sS'attributes'
p207
S"{'orderby': <gluon.dal.Expression object>}"
p208
sS'self._select_aux'
p209
S'<bound method SQLiteAdapter._select_aux of <gluon.dal.SQLiteAdapter object>>'
p210
sS'sql'
p211
S"'SELECT  posts.id, posts.title, posts.url, posts....sts.user_id FROM posts ORDER BY posts.votes DESC;'"
p212
ssg70
I1745
sg71
(dp213
I1740
S'            return cache_model('
p214
sI1741
S'                key,'
p215
sI1742
S'                lambda self=self,args=args:self._select_aux(*args),'
p216
sI1743
S'                time_expire)'
p217
sI1744
S'        else:'
p218
sI1745
S'            return self._select_aux(sql,fields,attributes)'
p219
sI1746
S''
sI1747
S'    def _count(self, query, distinct=None):'
p220
sI1748
S'        tablenames = self.tables(query)'
p221
sI1749
S'        if query:'
p222
ssg83
S"(self=<gluon.dal.SQLiteAdapter object>, query=None, fields=[<gluon.dal.Field object>, <gluon.dal.Field object>, <gluon.dal.Field object>, <gluon.dal.Field object>, <gluon.dal.Field object>, <gluon.dal.Field object>, <gluon.dal.Field object>], attributes={'orderby': <gluon.dal.Expression object>})"
p223
sg85
g172
sa(dp224
g62
S'/home/kira111/web2py/gluon/dal.py'
p225
sg64
(dp226
S'rows'
p227
S"[(18, u'tried', u'fail.com', u'trial', 130, None, 3), (13, u'a new post', u'footyroom.com', u'Amzing football highlights', 102, None, 3), (20, u'somechanges we made Congrats', u'google.com', u'goooooooooooooooogle', 100, None, 1), (21, u'hello', u'aasd.com', u'asdasdwqe', 94, u'2013-08-29 22:55', 1)]"
p228
sS'fields'
p229
S'[<gluon.dal.Field object>, <gluon.dal.Field object>, <gluon.dal.Field object>, <gluon.dal.Field object>, <gluon.dal.Field object>, <gluon.dal.Field object>, <gluon.dal.Field object>]'
p230
sS'self'
p231
S'<gluon.dal.SQLiteAdapter object>'
p232
sS'cacheable'
p233
S'False'
p234
sS'self._colnames'
p235
S"['posts.id', 'posts.title', 'posts.url', 'posts.category', 'posts.votes', 'posts.time_posted', 'posts.user_id']"
p236
sS'processor'
p237
S'<bound method SQLiteAdapter.parse of <gluon.dal.SQLiteAdapter object>>'
p238
ssg70
I1726
sg71
(dp239
I1728
S'    def select(self, query, fields, attributes):'
p240
sI1729
S'        """'
p241
sI1730
S'        Always returns a Rows object, possibly empty.'
p242
sI1721
S'            rows = list(rows)'
p243
sI1722
S"        limitby = args_get('limitby', None) or (0,)"
p244
sI1723
S'        rows = self.rowslice(rows,limitby[0],None)'
p245
sI1724
S"        processor = args_get('processor',self.parse)"
p246
sI1725
S"        cacheable = args_get('cacheable',False)"
p247
sI1726
S'        return processor(rows,fields,self._colnames,cacheable=cacheable)'
p248
sI1727
S''
ssg83
S"(self=<gluon.dal.SQLiteAdapter object>, sql='SELECT  posts.id, posts.title, posts.url, posts....sts.user_id FROM posts ORDER BY posts.votes DESC;', fields=[<gluon.dal.Field object>, <gluon.dal.Field object>, <gluon.dal.Field object>, <gluon.dal.Field object>, <gluon.dal.Field object>, <gluon.dal.Field object>, <gluon.dal.Field object>], attributes={'orderby': <gluon.dal.Expression object>})"
p249
sg85
S'_select_aux'
p250
sa(dp251
g62
S'/home/kira111/web2py/gluon/dal.py'
p252
sg64
(dp253
S'blob_decode'
p254
S'True'
p255
sS'self'
p256
S'<gluon.dal.SQLiteAdapter object>'
p257
sS'ft'
p258
S"'reference caty'"
p259
sS'value'
p260
S"u'trial'"
p261
sS'self.parse_value'
p262
S'<bound method SQLiteAdapter.parse_value of <gluon.dal.SQLiteAdapter object>>'
p263
ssg70
I2095
sg71
(dp264
I2090
S'                        colset = new_row[tablename]'
p265
sI2091
S'                    else:'
p266
sI2092
S'                        colset = new_row[tablename] = Row()'
p267
sI2093
S'                        if tablename not in virtualtables:'
p268
sI2094
S'                            virtualtables.append(tablename)'
p269
sI2095
S'                    value = self.parse_value(value,ft,blob_decode)'
p270
sI2096
S'                    if field.filter_out:'
p271
sI2097
S'                        value = field.filter_out(value)'
p272
sI2098
S'                    colset[fieldname] = value'
p273
sI2099
S''
ssg83
S"(self=<gluon.dal.SQLiteAdapter object>, rows=[(18, u'tried', u'fail.com', u'trial', 130, None, 3), (13, u'a new post', u'footyroom.com', u'Amzing football highlights', 102, None, 3), (20, u'somechanges we made Congrats', u'google.com', u'goooooooooooooooogle', 100, None, 1), (21, u'hello', u'aasd.com', u'asdasdwqe', 94, u'2013-08-29 22:55', 1)], fields=[<gluon.dal.Field object>, <gluon.dal.Field object>, <gluon.dal.Field object>, <gluon.dal.Field object>, <gluon.dal.Field object>, <gluon.dal.Field object>, <gluon.dal.Field object>], colnames=['posts.id', 'posts.title', 'posts.url', 'posts.category', 'posts.votes', 'posts.time_posted', 'posts.user_id'], blob_decode=True, cacheable=False)"
p274
sg85
S'parse'
p275
sa(dp276
g62
S'/home/kira111/web2py/gluon/dal.py'
p277
sg64
(dp278
S'field_type'
p279
S"'reference caty'"
p280
sS'self'
p281
S'<gluon.dal.SQLiteAdapter object>'
p282
sS'self.parsemap'
p283
S"{'bigint': <bound method SQLiteAdapter.parse_integer of <gluon.dal.SQLiteAdapter object>>, 'blob': <bound method SQLiteAdapter.parse_blob of <gluon.dal.SQLiteAdapter object>>, 'boolean': <bound method SQLiteAdapter.parse_boolean of <gluon.dal.SQLiteAdapter object>>, 'date': <bound method SQLiteAdapter.parse_date of <gluon.dal.SQLiteAdapter object>>, 'datetime': <bound method SQLiteAdapter.parse_datetime of <gluon.dal.SQLiteAdapter object>>, 'decimal': <bound method SQLiteAdapter.parse_decimal of <gluon.dal.SQLiteAdapter object>>, 'double': <bound method SQLiteAdapter.parse_double of <gluon.dal.SQLiteAdapter object>>, 'float': <bound method SQLiteAdapter.parse_double of <gluon.dal.SQLiteAdapter object>>, 'id': <bound method SQLiteAdapter.parse_id of <gluon.dal.SQLiteAdapter object>>, 'integer': <bound method SQLiteAdapter.parse_integer of <gluon.dal.SQLiteAdapter object>>, ...}"
p284
sS'value'
p285
S"'trial'"
p286
sS'key'
p287
S"'reference'"
p288
ssg70
I1944
sg71
(dp289
I1939
S'            return value'
p290
sI1940
S"        elif field_type == 'blob' and not blob_decode:"
p291
sI1941
S'            return value'
p292
sI1942
S'        else:'
p293
sI1943
S'            key = REGEX_TYPE.match(field_type).group(0)'
p294
sI1944
S'            return self.parsemap[key](value,field_type)'
p295
sI1945
S''
sI1946
S'    def parse_reference(self, value, field_type):'
p296
sI1947
S'        referee = field_type[10:].strip()'
p297
sI1948
S"        if not '.' in referee:"
p298
ssg83
S"(self=<gluon.dal.SQLiteAdapter object>, value='trial', field_type='reference caty', blob_decode=True)"
p299
sg85
S'parse_value'
p300
sa(dp301
g62
S'/home/kira111/web2py/gluon/dal.py'
p302
sg64
(dp303
S'global Reference'
p304
S"<class 'gluon.dal.Reference'>"
p305
sS'value'
p306
S"'trial'"
p307
ssg70
I1949
sg71
(dp308
I1952
S''
sI1953
S'    def parse_boolean(self, value, field_type):'
p309
sI1944
S'            return self.parsemap[key](value,field_type)'
p310
sI1945
S''
sI1946
S'    def parse_reference(self, value, field_type):'
p311
sI1947
S'        referee = field_type[10:].strip()'
p312
sI1948
S"        if not '.' in referee:"
p313
sI1949
S'            value = Reference(value)'
p314
sI1950
S'            value._table, value._record = self.db[referee], None'
p315
sI1951
S'        return value'
p316
ssg83
S"(self=<gluon.dal.SQLiteAdapter object>, value='trial', field_type='reference caty')"
p317
sg85
S'parse_reference'
p318
sasS'pyver'
p319
S'Python 2.7.3: /usr/bin/python (prefix: /usr)'
p320
sS'session'
p321
g57
(S's\x12\n\x00\x00<div><table><tr><td style="font-weight:bold;vertical-align:top;">auth</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">expiration</td><td style="vertical-align:top;">:</td><td><div>3600</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">hmac_key</td><td style="vertical-align:top;">:</td><td><div>b467db74-dbb4-4c33-9db4-329a03bf34da</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">last_visit</td><td style="vertical-align:top;">:</td><td><div>datetime.datetime(2013, 8, 30, 19, 4, 54, 558295)</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">remember</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">user</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">country</td><td style="vertical-align:top;">:</td><td><div>India</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">email</td><td style="vertical-align:top;">:</td><td><div>admin@gmail.com</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">first_name</td><td style="vertical-align:top;">:</td><td><div>ADMINISTRATOR</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">id</td><td style="vertical-align:top;">:</td><td><div>2L</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">last_name</td><td style="vertical-align:top;">:</td><td><div>ACCOUNT</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">registration_date</td><td style="vertical-align:top;">:</td><td><div>2013-08-25</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">registration_key</td><td style="vertical-align:top;">:</td><td><div></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">user_groups</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">2</td><td style="vertical-align:top;">:</td><td><div>user_2</div></td></tr></table></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">flash</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">last_orderby</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">last_query</td><td style="vertical-align:top;">:</td><td><div>db.auth_user.id&gt;0</div></td></tr></table></div>'
tRp322
sS'etype'
p323
S"<type 'exceptions.ValueError'>"
p324
sS'date'
p325
S'Fri Aug 30 19:04:55 2013'
p326
sS'response'
p327
g57
(S'sK\x1c\x00\x00<div><table><tr><td style="font-weight:bold;vertical-align:top;">body</td><td style="vertical-align:top;">:</td><td><div>&lt;cStringIO.StringO object at 0xae42f880&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">cookies</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">session_id_redditsim</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1-7cf72132-0b9f-434d-a779-ba4ab45dcc44<table><tr><td style="font-weight:bold;vertical-align:top;">comment</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">domain</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">expires</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">httponly</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">max-age</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">path</td><td style="vertical-align:top;">:</td><td><div>/</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">secure</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">version</td><td style="vertical-align:top;">:</td><td><div></div></td></tr></table></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">delimiters</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>{{</div></td></tr><tr><td><div>}}</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">files</td><td style="vertical-align:top;">:</td><td><div><table></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">flash</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">generic_patterns</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>*</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">google_analytics_id</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">headers</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">X-Powered-By</td><td style="vertical-align:top;">:</td><td><div>web2py</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">logo</td><td style="vertical-align:top;">:</td><td><div><a class="brand" data-w2p_disable_with="default" href="/RedditSim/default/index"><b>Reddit<span>SIM</span></b>&trade;&nbsp;</a></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">menu</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div><table><tr><td><div>Home</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/RedditSim/default/index</div></td></tr><tr><td><div><table></table></div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>Categories</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/RedditSim/default/show_cat</div></td></tr><tr><td><div><table></table></div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>ADMIN PRIVILIGES</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/RedditSim/default/admin_stuff</div></td></tr><tr><td><div><table></table></div></td></tr></table></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">meta</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">author</td><td style="vertical-align:top;">:</td><td><div>Your Name &lt;you@example.com&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">description</td><td style="vertical-align:top;">:</td><td><div>a cool new app</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">generator</td><td style="vertical-align:top;">:</td><td><div>Web2py Web Framework</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">keywords</td><td style="vertical-align:top;">:</td><td><div>web2py, python, framework</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">models_to_run</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>^\\w+\\.py$</div></td></tr><tr><td><div>^default/\\w+\\.py$</div></td></tr><tr><td><div>^default/index/\\w+\\.py$</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">postprocessing</td><td style="vertical-align:top;">:</td><td><div><table></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_cookie_expires</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_data_name</td><td style="vertical-align:top;">:</td><td><div>session_data_redditsim</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_file</td><td style="vertical-align:top;">:</td><td><div>&lt;open file &#x27;/home/kira111/web2py/applications/RedditSim/sessions/127.0.0.1-7cf72132-0b9f-434d-a779-ba4ab45dcc44&#x27;, mode &#x27;rb+&#x27; at 0xb1ea3a70&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_filename</td><td style="vertical-align:top;">:</td><td><div>/home/kira111/web2py/applications/RedditSim/sessions/127.0.0.1-7cf72132-0b9f-434d-a779-ba4ab45dcc44</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_id</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1-7cf72132-0b9f-434d-a779-ba4ab45dcc44</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_id_name</td><td style="vertical-align:top;">:</td><td><div>session_id_redditsim</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_locked</td><td style="vertical-align:top;">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_new</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_storage_type</td><td style="vertical-align:top;">:</td><td><div>file</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">status</td><td style="vertical-align:top;">:</td><td><div>200</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">subtitle</td><td style="vertical-align:top;">:</td><td><div><a data-w2p_disable_with="default" href="http://google.com"><b>READ</b></a><a data-w2p_disable_with="default" href="http://yahoo.com"> | <b>VOTE</b></a><a data-w2p_disable_with="default" href="/RedditSim/default/posts"> | <b>POST</b></a></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">title</td><td style="vertical-align:top;">:</td><td><div>Redditsim</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">view</td><td style="vertical-align:top;">:</td><td><div>default/index.html</div></td></tr></table></div>'
tRp328
sS'locals'
p329
(dp330
S'field_type'
p331
S"'reference caty'"
p332
sS'self'
p333
S'<gluon.dal.SQLiteAdapter object>'
p334
sS'referee'
p335
S"'caty'"
p336
sS'value'
p337
S"'trial'"
p338
sssS'traceback'
p339
S'Traceback (most recent call last):\n  File "/home/kira111/web2py/gluon/restricted.py", line 217, in restricted\n    exec ccode in environment\n  File "/home/kira111/web2py/applications/RedditSim/controllers/default.py", line 201, in <module>\n  File "/home/kira111/web2py/gluon/globals.py", line 359, in <lambda>\n    self._caller = lambda f: f()\n  File "/home/kira111/web2py/applications/RedditSim/controllers/default.py", line 81, in index\n    form=db().select(db.posts.ALL,orderby=~db.posts.votes)\n  File "/home/kira111/web2py/gluon/dal.py", line 10059, in select\n    return adapter.select(self.query,fields,attributes)\n  File "/home/kira111/web2py/gluon/dal.py", line 2285, in select\n    return super(SQLiteAdapter, self).select(query, fields, attributes)\n  File "/home/kira111/web2py/gluon/dal.py", line 1745, in select\n    return self._select_aux(sql,fields,attributes)\n  File "/home/kira111/web2py/gluon/dal.py", line 1726, in _select_aux\n    return processor(rows,fields,self._colnames,cacheable=cacheable)\n  File "/home/kira111/web2py/gluon/dal.py", line 2095, in parse\n    value = self.parse_value(value,ft,blob_decode)\n  File "/home/kira111/web2py/gluon/dal.py", line 1944, in parse_value\n    return self.parsemap[key](value,field_type)\n  File "/home/kira111/web2py/gluon/dal.py", line 1949, in parse_reference\n    value = Reference(value)\nValueError: invalid literal for long() with base 10: \'trial\'\n'
p340
s.